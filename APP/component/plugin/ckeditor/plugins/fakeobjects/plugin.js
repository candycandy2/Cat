!function(){function e(e,t){var a=r.exec(e),n=r.exec(t);if(a){if(!a[2]&&"px"==n[2])return n[1];if("px"==a[2]&&!n[2])return n[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,a=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,n={elements:{$:function(a){var r=a.attributes,n=r&&r["data-cke-realelement"],i=n&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(n)),l=i&&i.children[0];if(l&&a.attributes["data-cke-resizable"]){var s=new t(a).rules,o=l.attributes,c=s.width,d=s.height;c&&(o.width=e(o.width,c)),d&&(o.height=e(o.height,d))}return l}}};CKEDITOR.plugins.add("fakeobjects",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){var t=e.dataProcessor,a=t&&t.htmlFilter;a&&a.addRules(n,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,r,n,i){var l=this.lang.fakeobjects,s=l[n]||l.unknown,o={class:r,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.getAttribute("align")||""};if(CKEDITOR.env.hc||(o.src=CKEDITOR.tools.transparentImageData),n&&(o["data-cke-real-element-type"]=n),i){o["data-cke-resizable"]=i;var c=new t,d=e.getAttribute("width"),u=e.getAttribute("height");d&&(c.rules.width=a(d)),u&&(c.rules.height=a(u)),c.populate(o)}return this.document.createElement("img",{attributes:o})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,r,n,i){var l,s=this.lang.fakeobjects,o=s[n]||s.unknown,c=new CKEDITOR.htmlParser.basicWriter;e.writeHtml(c),l=c.getHtml();var d={class:r,"data-cke-realelement":encodeURIComponent(l),"data-cke-real-node-type":e.type,alt:o,title:o,align:e.attributes.align||""};if(CKEDITOR.env.hc||(d.src=CKEDITOR.tools.transparentImageData),n&&(d["data-cke-real-element-type"]=n),i){d["data-cke-resizable"]=i;var u=e.attributes,h=new t,m=u.width,g=u.height;void 0!==m&&(h.rules.width=a(m)),void 0!==g&&(h.rules.height=a(g)),h.populate(d)}return new CKEDITOR.htmlParser.element("img",d)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var a=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var r=t.getStyle("width"),n=t.getStyle("height");r&&a.setAttribute("width",e(a.getAttribute("width"),r)),n&&a.setAttribute("height",e(a.getAttribute("height"),n))}return a}}();